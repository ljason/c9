{"ts":1378071157482,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var express = require(\"express\"),\n\thttp = require(\"http\"),\n\tfs = require(\"fs\"),\n\tlessMiddleware = require(\"less-middleware\"),\n\tapp, server;\n\napp = express();\n\nserver = http.createServer(app);\n\napp.configure(function() {\n\tapp.set(\"port\", process.env.VCAP_APP_PORT || 3000);\n\tapp.set(\"views\", __dirname + \"/views\");\n\tapp.engine('html', require('ejs').renderFile);\n\tapp.use(express.bodyParser());\n\t// pull in all the controllers\n\tfs.readdirSync(\"controllers\").forEach(function(controllerName) {\n\t\trequire(\"./controllers/\" + controllerName)(app, server);\n\t});\n\tapp.use(app.router);\n\tapp.use(lessMiddleware({\n\t\tsrc: __dirname + \"/less\",\n\t\tdest: __dirname + \"/public/css\",\n\t\t// if you're using a different src/dest directory, you MUST\n\t\t// include the prefex, which matches the dest public directory\n\t\tprefix: \"/css\",\n\t\t// force true recompiles on every request... not the best\n\t\t// for production, but fine in debug while working through changes\n\t\tforce: true\n\t}));\n\tapp.use(express.static(__dirname + \"/public\"));\n});\n\napp.configure(\"development\", function() {\n\tapp.use(express.errorHandler());\n});\n\nserver.listen(app.get(\"port\"), function() {\n\tconsole.log(\"Express server listening on port \" + app.get(\"port\"));\n});\n"]],"start1":0,"start2":0,"length1":0,"length2":1213}]],"length":1213}
